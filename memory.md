# 开发偏好记录

## 系统环境
- 操作系统：Windows
- 开发语言偏好：中文交流
- 开发工具：HTML5+

## 编码习惯
- 代码注释：函数级注释，详细说明功能和参数
- 错误处理：使用try-catch进行异常捕获和日志记录
- 日志习惯：使用console.log记录关键流程和状态变化
- 命名规范：使用驼峰命名法，变量名具有描述性
- 代码风格：简洁清晰，模块化组织代码
- 缩进风格：使用4空格缩进
- 函数设计：单一职责原则，一个函数只做一件事
- 代码复用：提取公共功能为独立函数，避免重复代码

## 项目信息
- 项目类型：无纸化会议系统前端
- 技术栈：HTML5+
- 主要功能：
  - 会议选择和加载
  - PDF文档查看和批注
  - 设置管理
  - ZIP文件解压和文档浏览
  - 随机延时下载机制
  - 数据一致性保护

## 项目结构
- 使用HTML作为页面结构
- JavaScript实现业务逻辑
- 使用plus API进行本地存储和页面管理
- 包含PDF查看和批注功能
- CSS样式分离，使用外部样式表
- 项目文档存放在plan文件夹中

## UI设计偏好
- 包含Logo显示
- 加载进度条
- 会议选择模态框
- PDF批注工具
- 响应式设计
- 圆角元素（border-radius）
- 阴影效果（box-shadow）
- 过渡动画（transition）
- 绿色系主色调（#4CAF50）
- 倒计时UI元素中的文字应更大（60px字体大小）
- 倒计时界面应简洁，不需要重复的文字提示和滚动条
- 界面元素应避免冗余，一个功能只提供一种操作方式
- 关键信息使用大号字体（36px以上）提高可读性
- 在不同屏幕尺寸上提供适配的字体大小

## 存储偏好
- 使用plus.storage进行本地数据存储
- 存储内容包括：
  - 会议状态(meetingStatus)
  - 系统设置(option)
  - 用户偏好(如pdf_annotation_tutorial_shown)
- 使用JSON格式存储复杂数据结构
- 会议数据如果没有成功下载，本地存储中的会议信息不应更新，以保持数据一致性
- 在操作失败时应尝试恢复之前的数据状态
- 关键数据操作应遵循"先验证，后存储"的原则

## 事件处理偏好
- 使用addEventListener绑定事件
- 在plusready事件中初始化应用
- 使用箭头函数和常规函数混合使用
- 事件委托模式处理列表项事件
- 使用事件发布-订阅模式进行模块间通信
- 为长时间操作提供取消机制

## 安全性考虑
- 禁用用户选择（user-select: none）
- 自定义返回按钮行为
- 错误信息不暴露敏感信息
- 敏感操作提供确认机制
- 网络请求添加超时处理

## 调试习惯
- 使用console.log进行状态跟踪
- 注释掉不需要的调试代码而非删除
- 使用条件判断控制日志输出
- 临时保留ZIP文件用于调试，不立即删除
- 关键流程添加详细日志，包括时间戳
- 错误日志包含详细的上下文信息

## 下载服务器数据
- 下载服务器数据前需添加随机延时功能(0-120秒，分两段概率75%/25%)并在loading界面显示倒计时
- 倒计时弹窗界面应简洁，不需要重复的文字提示和滚动条，避免UI元素冗余
- 倒计时UI元素中的文字应更大
- 会议数据如果没有成功下载，本地存储中的会议信息不应更新，以保持数据一致性
- 用户取消下载操作时，同样不应更新本地存储中的会议信息
- 支持多下载节点，当一个节点失败时自动切换到其他节点
- 下载过程中显示当前下载节点和进度信息

## 文档管理
- 项目文档存放在plan文件夹中
- 文档应及时更新，反映最新的项目状态和设计决策
- 重要功能应有专门的文档描述其设计原理和实现细节
- 文档使用Markdown格式，便于版本控制和在线查看
- 代码变更应同步更新相关文档

## 注意事项
- 此文件将根据后续交互不断更新，记录用户的开发偏好和项目特点
- 此文档适用于整个项目（包括前端和后端），不仅限于前端部分